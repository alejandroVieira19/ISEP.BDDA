CREATE TABLE Parcela_Agricola (idParcela_Agricola numeric(10, 0) NOT NULL, designacao varchar(100) NOT NULL UNIQUE, area numeric(10, 2) NOT NULL, CONSTRAINT id PRIMARY KEY (idParcela_Agricola));
CREATE TABLE Cultura (idCultura numeric(10, 0) NOT NULL, nome_cultura varchar(100) NOT NULL, Tipo_Culturaid numeric(10, 0) NOT NULL, PRIMARY KEY (idCultura));
CREATE TABLE Fator_Producao (idFator_Producao numeric(10, 0) NOT NULL, nome_comercial varchar(100) NOT NULL UNIQUE, Classificacao_Fator_Producaoid numeric(10, 0) NOT NULL, Formulacao_Fator_Producaoid numeric(10, 0) NOT NULL, Tipo_Aplicacao_Fator_Producaoid numeric(10, 0) NOT NULL, ph numeric(3, 1), densidade numeric(3, 1), PRIMARY KEY (idFator_Producao));
CREATE TABLE Parcela_Agricola_Fator_Producao (idParcela_Agricola_Fator_Producao numeric(10, 0) NOT NULL, Parcela_Agricolaid numeric(10, 0) NOT NULL, Fator_Producaoid numeric(10, 0) NOT NULL, data date NOT NULL, CONSTRAINT "Primary Key - id" PRIMARY KEY (idParcela_Agricola_Fator_Producao));
CREATE TABLE Fertilizacao (idOperacao_Agricola numeric(10, 0) NOT NULL, Modo_fertilizacaoid numeric(10, 0) NOT NULL, PRIMARY KEY (idOperacao_Agricola));
CREATE TABLE Tipo_Cultura (idTipo_Cultura numeric(10, 0) GENERATED BY DEFAULT AS IDENTITY (START WITH 1), tipo varchar(100) NOT NULL, PRIMARY KEY (idTipo_Cultura));
CREATE TABLE Planta (idPlanta numeric(10, 0) NOT NULL, variedade varchar(100) NOT NULL UNIQUE, especie varchar(100) NOT NULL, nome_comum varchar(100) NOT NULL, Culturaid numeric(10, 0) NOT NULL, PRIMARY KEY (idPlanta));
CREATE TABLE Classificacao_Fator_Producao (idClassificacao_Fator_Producao numeric(10, 0) NOT NULL, designacao varchar(100) NOT NULL, PRIMARY KEY (idClassificacao_Fator_Producao));
CREATE TABLE Formulacao_Fator_Producao (idFormula_Fator_Producao numeric(10, 0) NOT NULL, designacao varchar(100) NOT NULL, PRIMARY KEY (idFormula_Fator_Producao));
CREATE TABLE Modo_fertilizacao (idModo_fertilizacao numeric(10, 0) NOT NULL, modo varchar(100) NOT NULL, PRIMARY KEY (idModo_fertilizacao));
CREATE TABLE Tipo_Aplicacao_Fator_Producao (idTipo_Aplicacao_Fator_Producao numeric(10, 0) NOT NULL, designacao varchar(100) NOT NULL, PRIMARY KEY (idTipo_Aplicacao_Fator_Producao));
CREATE TABLE Edificio (idEdificio numeric(10, 0) NOT NULL, designacao varchar(100) NOT NULL, area numeric(10, 0), Tipo_Edificioid numeric(10, 0) NOT NULL, PRIMARY KEY (idEdificio));
CREATE TABLE Tipo_Edificio (idTipo_Edificio numeric(10, 0) NOT NULL, tipo varchar(100) NOT NULL, PRIMARY KEY (idTipo_Edificio));
CREATE TABLE Cultura_Instalada (idCultura_Instalada numeric(10, 0) NOT NULL, Culturaid numeric(10, 0) NOT NULL, Parcela_Agricolaid numeric(10, 0) NOT NULL, data_instalacao date NOT NULL, data_fecho date, quantidade numeric(10, 2) NOT NULL, unidade varchar(100) NOT NULL, PRIMARY KEY (idCultura_Instalada));
CREATE TABLE Quimico (idQuimico numeric(10, 0) NOT NULL, designacao varchar(100) NOT NULL, tipo_quimico numeric(2, 0) NOT NULL, PRIMARY KEY (idQuimico));
CREATE TABLE Periodo (idPeriodo numeric(10, 0) NOT NULL, Plantaid numeric(10, 0) NOT NULL, periodo varchar(100) NOT NULL, tipo_periodo numeric(2, 0) NOT NULL, PRIMARY KEY (idPeriodo));
CREATE TABLE Fabricante (idFabricante numeric(10, 0) NOT NULL, nome_fabricante varchar(100) NOT NULL, PRIMARY KEY (idFabricante));
CREATE TABLE Fabricante_Fator_Producao (idFabricante numeric(10, 0) NOT NULL, idFator_Producao numeric(10, 0) NOT NULL, PRIMARY KEY (idFabricante, idFator_Producao));
CREATE TABLE Setor_Rega (idSetor_Rega numeric(10, 0) NOT NULL, debito_maximo numeric(10, 0) NOT NULL, data_inicio date NOT NULL, data_fim date, PRIMARY KEY (idSetor_Rega));
CREATE TABLE Setor_Rega_Parcela_Agricola (idSetor_Rega numeric(10, 0) NOT NULL, idParcela_Agricola numeric(10, 0) NOT NULL, PRIMARY KEY (idSetor_Rega, idParcela_Agricola));
CREATE TABLE Operacao_Agricola (idOperacao_Agricola numeric(10, 0) NOT NULL, idTipo_Operacao_Agricola numeric(10, 0) NOT NULL, idEstado_Operacao numeric(10, 0) NOT NULL, data date NOT NULL, instante_criacao timestamp DEFAULT CURRENT_TIMESTAMP NOT NULL, quantidade numeric(10, 2) NOT NULL, PRIMARY KEY (idOperacao_Agricola));
CREATE TABLE Tipo_Operacao_Agricola (idTipo_Operacao_Agricola numeric(10, 0) NOT NULL, designacao varchar(100) NOT NULL, PRIMARY KEY (idTipo_Operacao_Agricola));
CREATE TABLE Operacao_Sobre_Cultura (idOperacao_Agricola numeric(10, 0) NOT NULL, idCultura numeric(10, 0) NOT NULL, PRIMARY KEY (idOperacao_Agricola));
CREATE TABLE Operacao_Agricola_Parcela_Agricola (idOperacao_Agricola numeric(10, 0) NOT NULL, idParcela_Agricola numeric(10, 0) NOT NULL, PRIMARY KEY (idOperacao_Agricola, idParcela_Agricola));
CREATE TABLE Operacao_Sobre_Parcela (idOperacao_Agricola numeric(10, 0) NOT NULL, area numeric(10, 2) NOT NULL, PRIMARY KEY (idOperacao_Agricola));
CREATE TABLE Colheita_Planta (idOperacao_Agricola numeric(10, 0) NOT NULL, idPlanta numeric(10, 0) NOT NULL, PRIMARY KEY (idOperacao_Agricola, idPlanta));
CREATE TABLE Operacao_Sobre_Setor (idOperacao_Agricola numeric(10, 0) NOT NULL, idSetor_Rega numeric(10, 0) NOT NULL, PRIMARY KEY (idOperacao_Agricola));
CREATE TABLE Estado_Operacao (idEstado_Operacao numeric(10, 0) NOT NULL, designacao varchar(100) NOT NULL, PRIMARY KEY (idEstado_Operacao));
CREATE TABLE Fator_Producao_Quimico (idFator_Producao numeric(10, 0) NOT NULL, idQuimico numeric(10, 0) NOT NULL, quantidade numeric(10, 0) NOT NULL, PRIMARY KEY (idFator_Producao, idQuimico));
CREATE TABLE Operacao_Sobre_Cultura_Parcela (idOperacao_Agricola numeric(10, 0) NOT NULL, idCultura numeric(10, 0) NOT NULL, area numeric(10, 2) NOT NULL, PRIMARY KEY (idOperacao_Agricola));
CREATE TABLE Log_Operacao (idLog_Operacao numeric(10, 0) NOT NULL, tipo_operacao_dml varchar(100) NOT NULL, tabela_afetada varchar(100) NOT NULL, instante timestamp DEFAULT CURRENT_TIMESTAMP NOT NULL, dados_operacao CLOB NOT NULL, idOperacao_Agricola numeric(10, 0) NOT NULL, idTipo_Operacao_Agricola numeric(10, 0) NOT NULL, idEstado_Operacao numeric(10, 0) NOT NULL, PRIMARY KEY (idLog_Operacao));
CREATE TABLE Aplicacao_Fator_Producao (idOperacao_Agricola numeric(10, 0) NOT NULL, PRIMARY KEY (idOperacao_Agricola));
CREATE TABLE Operacao_Agricola_Aplicacao_Fator_Producao (idOperacao_Agricola numeric(10, 0) NOT NULL, idFator_Producao numeric(10, 0) NOT NULL, quantidade numeric(10, 2), PRIMARY KEY (idOperacao_Agricola, idFator_Producao));
CREATE TABLE Rega_Com_Receita (idOperacao_Agricola numeric(10, 0) NOT NULL, idReceita numeric(10, 0) NOT NULL, PRIMARY KEY (idOperacao_Agricola));
CREATE TABLE Receita (idReceita numeric(10, 0) NOT NULL, nome_receita varchar(100) NOT NULL UNIQUE, PRIMARY KEY (idReceita));
CREATE TABLE Receita_Fator_Producao (idReceita numeric(10, 0) NOT NULL, idFator_Producao numeric(10, 0) NOT NULL, quantidade numeric(10, 0) NOT NULL, unidade varchar(50) NOT NULL, PRIMARY KEY (idReceita, idFator_Producao));
CREATE TABLE Plantacao_Nova (idOperacao_Agricola numeric(10, 0) NOT NULL, compasso numeric(10, 2) NOT NULL, distancia_filas numeric(10, 2) NOT NULL, PRIMARY KEY (idOperacao_Agricola));
CREATE TABLE Cultura_Instalada_Setor_Rega (idCultura_Instalada numeric(10, 0) NOT NULL, idSetor_Rega numeric(10, 0) NOT NULL, PRIMARY KEY (idCultura_Instalada));
ALTER TABLE Parcela_Agricola_Fator_Producao ADD CONSTRAINT FKParcela_Ag347422 FOREIGN KEY (Parcela_Agricolaid) REFERENCES Parcela_Agricola (idParcela_Agricola);
ALTER TABLE Parcela_Agricola_Fator_Producao ADD CONSTRAINT FKParcela_Ag392673 FOREIGN KEY (Fator_Producaoid) REFERENCES Fator_Producao (idFator_Producao);
ALTER TABLE Cultura ADD CONSTRAINT FKCultura637276 FOREIGN KEY (Tipo_Culturaid) REFERENCES Tipo_Cultura (idTipo_Cultura);
ALTER TABLE Fator_Producao ADD CONSTRAINT FKFator_Prod875815 FOREIGN KEY (Classificacao_Fator_Producaoid) REFERENCES Classificacao_Fator_Producao (idClassificacao_Fator_Producao);
ALTER TABLE Fator_Producao ADD CONSTRAINT FKFator_Prod659164 FOREIGN KEY (Tipo_Aplicacao_Fator_Producaoid) REFERENCES Tipo_Aplicacao_Fator_Producao (idTipo_Aplicacao_Fator_Producao);
ALTER TABLE Edificio ADD CONSTRAINT FKEdificio485460 FOREIGN KEY (Tipo_Edificioid) REFERENCES Tipo_Edificio (idTipo_Edificio);
ALTER TABLE Cultura_Instalada ADD CONSTRAINT FKCultura_In133338 FOREIGN KEY (Culturaid) REFERENCES Cultura (idCultura);
ALTER TABLE Cultura_Instalada ADD CONSTRAINT FKCultura_In201170 FOREIGN KEY (Parcela_Agricolaid) REFERENCES Parcela_Agricola (idParcela_Agricola);
ALTER TABLE Fertilizacao ADD CONSTRAINT FKFertilizac119711 FOREIGN KEY (Modo_fertilizacaoid) REFERENCES Modo_fertilizacao (idModo_fertilizacao);
ALTER TABLE Fator_Producao ADD CONSTRAINT FKFator_Prod128181 FOREIGN KEY (Formulacao_Fator_Producaoid) REFERENCES Formulacao_Fator_Producao (idFormula_Fator_Producao);
ALTER TABLE Periodo ADD CONSTRAINT FKPeriodo826652 FOREIGN KEY (Plantaid) REFERENCES Planta (idPlanta);
ALTER TABLE Fabricante_Fator_Producao ADD CONSTRAINT FKFabricante394597 FOREIGN KEY (idFabricante) REFERENCES Fabricante (idFabricante);
ALTER TABLE Fabricante_Fator_Producao ADD CONSTRAINT FKFabricante426530 FOREIGN KEY (idFator_Producao) REFERENCES Fator_Producao (idFator_Producao);
ALTER TABLE Setor_Rega_Parcela_Agricola ADD CONSTRAINT FKSetor_Rega961283 FOREIGN KEY (idSetor_Rega) REFERENCES Setor_Rega (idSetor_Rega);
ALTER TABLE Setor_Rega_Parcela_Agricola ADD CONSTRAINT FKSetor_Rega144803 FOREIGN KEY (idParcela_Agricola) REFERENCES Parcela_Agricola (idParcela_Agricola);
ALTER TABLE Planta ADD CONSTRAINT FKPlanta735885 FOREIGN KEY (Culturaid) REFERENCES Cultura (idCultura);
ALTER TABLE Operacao_Agricola ADD CONSTRAINT FKOperacao_A757780 FOREIGN KEY (idTipo_Operacao_Agricola) REFERENCES Tipo_Operacao_Agricola (idTipo_Operacao_Agricola);
ALTER TABLE Operacao_Sobre_Cultura ADD CONSTRAINT FKOperacao_S213903 FOREIGN KEY (idOperacao_Agricola) REFERENCES Operacao_Agricola (idOperacao_Agricola);
ALTER TABLE Operacao_Sobre_Cultura ADD CONSTRAINT FKOperacao_S137787 FOREIGN KEY (idCultura) REFERENCES Cultura (idCultura);
ALTER TABLE Operacao_Agricola_Parcela_Agricola ADD CONSTRAINT FKOperacao_A914479 FOREIGN KEY (idOperacao_Agricola) REFERENCES Operacao_Agricola (idOperacao_Agricola);
ALTER TABLE Operacao_Agricola_Parcela_Agricola ADD CONSTRAINT FKOperacao_A515417 FOREIGN KEY (idParcela_Agricola) REFERENCES Parcela_Agricola (idParcela_Agricola);
ALTER TABLE Operacao_Sobre_Parcela ADD CONSTRAINT FKOperacao_S837834 FOREIGN KEY (idOperacao_Agricola) REFERENCES Operacao_Agricola (idOperacao_Agricola);
ALTER TABLE Colheita_Planta ADD CONSTRAINT FKColheita_P603127 FOREIGN KEY (idOperacao_Agricola) REFERENCES Operacao_Agricola (idOperacao_Agricola);
ALTER TABLE Colheita_Planta ADD CONSTRAINT FKColheita_P168857 FOREIGN KEY (idPlanta) REFERENCES Planta (idPlanta);
ALTER TABLE Operacao_Sobre_Setor ADD CONSTRAINT FKOperacao_S71535 FOREIGN KEY (idOperacao_Agricola) REFERENCES Operacao_Agricola (idOperacao_Agricola);
ALTER TABLE Operacao_Sobre_Setor ADD CONSTRAINT FKOperacao_S541881 FOREIGN KEY (idSetor_Rega) REFERENCES Setor_Rega (idSetor_Rega);
ALTER TABLE Operacao_Agricola ADD CONSTRAINT FKOperacao_A618411 FOREIGN KEY (idEstado_Operacao) REFERENCES Estado_Operacao (idEstado_Operacao);
ALTER TABLE Fator_Producao_Quimico ADD CONSTRAINT FKFator_Prod903980 FOREIGN KEY (idFator_Producao) REFERENCES Fator_Producao (idFator_Producao);
ALTER TABLE Fator_Producao_Quimico ADD CONSTRAINT FKFator_Prod772910 FOREIGN KEY (idQuimico) REFERENCES Quimico (idQuimico);
ALTER TABLE Operacao_Sobre_Cultura_Parcela ADD CONSTRAINT FKOperacao_S52935 FOREIGN KEY (idOperacao_Agricola) REFERENCES Operacao_Agricola (idOperacao_Agricola);
ALTER TABLE Operacao_Sobre_Cultura_Parcela ADD CONSTRAINT FKOperacao_S976818 FOREIGN KEY (idCultura) REFERENCES Cultura (idCultura);
ALTER TABLE Fertilizacao ADD CONSTRAINT FKFertilizac240766 FOREIGN KEY (idOperacao_Agricola) REFERENCES Aplicacao_Fator_Producao (idOperacao_Agricola);
ALTER TABLE Aplicacao_Fator_Producao ADD CONSTRAINT FKAplicacao_566024 FOREIGN KEY (idOperacao_Agricola) REFERENCES Operacao_Agricola (idOperacao_Agricola);
ALTER TABLE Operacao_Agricola_Aplicacao_Fator_Producao ADD CONSTRAINT FKOperacao_A287835 FOREIGN KEY (idOperacao_Agricola) REFERENCES Aplicacao_Fator_Producao (idOperacao_Agricola);
ALTER TABLE Operacao_Agricola_Aplicacao_Fator_Producao ADD CONSTRAINT FKOperacao_A105606 FOREIGN KEY (idFator_Producao) REFERENCES Fator_Producao (idFator_Producao);
ALTER TABLE Receita_Fator_Producao ADD CONSTRAINT FKReceita_Fa421548 FOREIGN KEY (idReceita) REFERENCES Receita (idReceita);
ALTER TABLE Receita_Fator_Producao ADD CONSTRAINT FKReceita_Fa576375 FOREIGN KEY (idFator_Producao) REFERENCES Fator_Producao (idFator_Producao);
ALTER TABLE Rega_Com_Receita ADD CONSTRAINT FKRega_Com_R875874 FOREIGN KEY (idReceita) REFERENCES Receita (idReceita);
ALTER TABLE Rega_Com_Receita ADD CONSTRAINT FKRega_Com_R857101 FOREIGN KEY (idOperacao_Agricola) REFERENCES Aplicacao_Fator_Producao (idOperacao_Agricola);
ALTER TABLE Plantacao_Nova ADD CONSTRAINT FKPlantacao_106609 FOREIGN KEY (idOperacao_Agricola) REFERENCES Operacao_Agricola (idOperacao_Agricola);
ALTER TABLE Cultura_Instalada_Setor_Rega ADD CONSTRAINT FKCultura_In896684 FOREIGN KEY (idCultura_Instalada) REFERENCES Cultura_Instalada (idCultura_Instalada);
ALTER TABLE Cultura_Instalada_Setor_Rega ADD CONSTRAINT FKCultura_In591857 FOREIGN KEY (idSetor_Rega) REFERENCES Setor_Rega (idSetor_Rega);